import matplotlib.pyplot as plt
import numpy as np

# Example data
indices = [0, 1, 2, 3, 4, 5]
type_times = [88.337975025177, 62.207207918167114, 47.012787103652954, 0.2830181121826172, 15.829697847366333, 40.82933807373047, 21.86703896522522, 15.620737791061401, 73.13935899734497, 199.66929697990417, 48.37602519989014, 11.009495973587036, 9.589232921600342, 65.44393301010132, 29.377656936645508, 51.55813813209534, 102.84950709342957, 12.281437873840332, 12.267815113067627, 40.213151931762695, 13.732818126678467, 125.1366958618164, 268.8464238643646, 22.701049089431763, 17.376532077789307, 5.848537921905518, 34.03837299346924, 7.880195140838623, 26.98504614830017, 107.30422902107239, 104.04949188232422, 24.351473093032837, 21.588632106781006, 57.97261595726013, 3.9472270011901855, 23.602987051010132, 30.01138997077942, 13.19523310661316, 14.552688121795654, 43.78214383125305, 12.265223026275635, 47.197429895401, 25.110399961471558, 80.95104598999023, 67.44609880447388, 205.36213994026184, 67.23102402687073, 38.28807306289673, 6.020823001861572, 3.1366429328918457, 55.277474880218506, 42.62249803543091, 3.687602996826172, 18.004735946655273, 5.155462980270386, 6.673593044281006, 0.6474878787994385, 145.76536107063293, 48.58942699432373, 90.16356706619263, 36.14305305480957, 38.375022888183594, 213.38709902763367, 56.50572991371155, 16.435154914855957, 57.57270121574402, 208.27772903442383, 16.019249200820923, 47.8762788772583, 41.7872428894043, 152.67888498306274, 273.34441900253296, 15.080316066741943, 7.166506052017212, 42.42477893829346, 32.90374207496643, 3.786659002304077, 23.150930166244507, 123.48951005935669, 128.7379310131073, 40.39045000076294, 97.32055401802063, 87.91657900810242, 13.45918083190918, 24.544815063476562, 15.724406957626343, 35.34125208854675, 156.95300388336182, 174.37518000602722, 8.791100025177002, 169.19818377494812, 18.59744906425476, 121.91629409790039, 127.6212089061737, 94.0907621383667, 17.076820135116577, 31.87991714477539, 34.416982889175415, 76.5521149635315, 54.71824812889099]
type_staged_times = [46.996866941452026, 32.35505700111389, 24.499382972717285, 0.14914894104003906, 8.278159141540527, 22.76374101638794, 11.459634065628052, 8.731797933578491, 37.76508712768555, 103.77121114730835, 25.020225048065186, 5.94136118888855, 4.9873151779174805, 34.01662993431091, 16.346811771392822, 28.65956997871399, 54.070327043533325, 6.313413143157959, 6.330228090286255, 20.851210832595825, 7.097132921218872, 65.6460120677948, 139.67814779281616, 12.340029001235962, 9.65334415435791, 3.0365958213806152, 17.821156978607178, 4.085194826126099, 14.839205980300903, 55.93918514251709, 54.06519889831543, 12.557503938674927, 11.216784000396729, 31.43846297264099, 2.094228982925415, 12.51813006401062, 15.657841920852661, 6.8490149974823, 7.583379030227661, 22.884128093719482, 6.7109057903289795, 26.172884941101074, 13.114532947540283, 43.04131579399109, 36.57175803184509, 106.39021110534668, 34.71694898605347, 19.833643913269043, 3.126981019973755, 1.6262450218200684, 28.607069969177246, 22.267030954360962, 1.9299180507659912, 9.368622064590454, 2.6748268604278564, 3.4629738330841064, 0.3348119258880615, 75.76411485671997, 25.10030198097229, 46.68008589744568, 18.821780920028687, 19.810945987701416, 110.80269289016724, 31.03389811515808, 8.588888168334961, 31.93138098716736, 113.8140561580658, 8.396419048309326, 24.84952712059021, 22.60651683807373, 84.90870499610901, 142.04588508605957, 7.761776924133301, 3.686767816543579, 21.92749309539795, 17.19523286819458, 2.0014328956604004, 12.631653070449829, 64.28967094421387, 68.98424005508423, 21.913017988204956, 50.3648099899292, 48.19764995574951, 6.941447973251343, 12.997413873672485, 8.178622007369995, 18.395764112472534, 81.48686480522156, 90.95751714706421, 4.555267095565796, 87.19481706619263, 9.66167688369751, 63.14991617202759, 65.72211289405823, 49.16069984436035, 8.9251708984375, 16.394425868988037, 19.212666988372803, 41.07251000404358, 28.37543296813965]

differences = [t - staged for t, staged in zip(type_times, type_staged_times)]

# Normalize the differences for color mapping
norm = plt.Normalize(vmin=min(differences), vmax=max(differences))

# Scatter plot
plt.figure(figsize=(10, 6))
scatter = plt.scatter(
    type_times,
    type_staged_times,
    c=differences,
    cmap="coolwarm",  # Color gradient from blue to pink
    s=100,  # Size of the dots
    edgecolor="black"
)

# Add colorbar
cbar = plt.colorbar(scatter)
cbar.set_label("Difference (Type - Type Staged)", rotation=270, labelpad=15)

# Labels and title
plt.title("Type vs. Type Staged Execution Times", fontsize=14)
plt.xlabel("Type Time (seconds)", fontsize=12)
plt.ylabel("Type Staged Time (seconds)", fontsize=12)
plt.grid(True)

# Save and display
plt.savefig("scatter_plot_difference_t_minus_staged.png", dpi=300)
plt.show()
